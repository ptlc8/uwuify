<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>UwUify</title>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="icon" href="assets/icon.jpg" />
		<link rel="stylesheet" href="style.css" />
		<script src="face-api.min.js"></script>
		<script src="uwuify.js"></script>
	</head>
	<body>
		<header>
			<img class="icon" src="assets/icon.jpg">
			<h1>UwUfier</h1>
		</header>
		<main>
			<span id="loading">En attente de chargement</span>
			<canvas id="image" style="width:50%;margin:auto;display:block;"></canvas>
			<input id="file" type=file accept="image/*" style="display:none" onchange="loadAndUwUify(this.files[0])" />
			<button onclick="document.getElementById('file').click()">Charger une image</button>
			<script>
			//UwUify.load();
			
			function loadAndUwUify(file) {
				UwUify.loadImageFile(file, document.getElementById("image"))
				.then(() => UwUify.uwuify(document.getElementById("image")));
			}
			
			document.addEventListener("dragover", event => {
				event.preventDefault();
				event.dataTransfer.dropEffect = "copy";
			});
			document.addEventListener("drop", event => {
				event.preventDefault();
				loadAndUwUify(event.dataTransfer.files[0]);
			});
			</script>
		</main>
	</body>
</html>
